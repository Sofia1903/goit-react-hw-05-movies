"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[324],{324:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(439),u=n(791),a=n(87),c=n(689),o="Searchform_form__iydFE",i="Searchform_input__oXtlL",s="Searchform_button__ZlJoQ",f="Searchform_buttonLabel__W+F5Z",h=n(184),l=function(e){var t=e.onSubmit,n=(0,u.useState)(""),a=(0,r.Z)(n,2),c=a[0],l=a[1],p=(0,u.useState)(""),v=(0,r.Z)(p,2),m=v[0],d=v[1],g=function(){l(""),d(c)};return(0,h.jsxs)("form",{className:o,onSubmit:function(e){e.preventDefault(),""!==c.trim()?c!==m&&(t(c),g()):alert("Write a search query")},children:[(0,h.jsx)("input",{className:i,onChange:function(e){l(e.currentTarget.value)},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:c}),(0,h.jsx)("button",{className:s,type:"submit",children:(0,h.jsx)("span",{className:f,children:"Search"})})]})},p=n(897),v=function(){var e,t=(0,a.lr)(),n=(0,r.Z)(t,2),o=n[0],i=n[1],s=(0,u.useState)([]),f=(0,r.Z)(s,2),v=f[0],m=f[1],d=(0,u.useState)(!1),g=(0,r.Z)(d,2),x=g[0],j=g[1],b=(0,c.TH)(),_=null!==(e=o.get("movieId"))&&void 0!==e?e:"";return(0,u.useEffect)((function(){_&&(j(!0),(0,p.V0)(_).then((function(e){var t=e.results;t.length||alert('there is no movie with the "'.concat(_,'"')),m(t)})).catch((function(e){return alert("error:"+e)})).finally(j(!1)))}),[_]),(0,h.jsxs)("div",{children:[(0,h.jsx)(l,{onSubmit:function(e){if(!e)return i({});i({movieId:e})}}),x?(0,h.jsx)("p",{children:"Loading..."}):(0,h.jsx)("ul",{children:v.map((function(e){var t=e.id,n=e.title;return(0,h.jsx)("li",{children:(0,h.jsx)(a.rU,{to:"/movies/".concat(t),state:{from:b},children:n})},t)}))})]})}},897:function(e,t,n){function r(e,t,n,r,u,a,c){try{var o=e[a](c),i=o.value}catch(s){return void n(s)}o.done?t(i):Promise.resolve(i).then(r,u)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(u,a){var c=e.apply(t,n);function o(e){r(c,u,a,o,i,"next",e)}function i(e){r(c,u,a,o,i,"throw",e)}o(void 0)}))}}n.d(t,{Yc:function(){return h},Pg:function(){return f},fI:function(){return l},V0:function(){return s},Df:function(){return i}});var a=n(757),c=n.n(a),o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3NWE3MTViMjhiYzlhNTc2ZWQ2MzkzZjYzYjllMjlmOCIsInN1YiI6IjY0N2ZhYTRlY2E3ZWM2MDEzOTAwNDkzNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4uBK7cn8JGhy1huwgClr31nT-u15Nkxz-Rq5SsBaK6g"}},i=function(){var e=u(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/trending/movie/day?language=en-US",o);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&include_adult=false&language=en-US&page=1"),o);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?language=en-US"),o);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?language=en-US"),o);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?language=en-US&page=1"),o);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=324.2da1cae0.chunk.js.map